name: japan-africa-car-arbitrage
description: System for identifying profitable used car arbitrage opportunities between Japan and Africa

# Build configuration
build:
  commands:
    - npm ci --only=production
    - cd backend && npm ci --only=production
    - cd ../frontend && npm ci && npm run build

# Runtime configuration
run:
  command: node backend/server.js
  
# Environment variables
env:
  NODE_ENV: production
  USE_MOCK_DATA: true
  PORT: 8080
  PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: true

# Health check
health_check:
  path: /health
  port: 8080
  interval: 60s
  timeout: 30s
  retries: 5
  initial_delay: 30s

# Scaling
scaling:
  min_instances: 1
  max_instances: 2
  cpu_threshold: 80
  memory_threshold: 80