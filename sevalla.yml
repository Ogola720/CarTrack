name: japan-africa-car-arbitrage
description: System for identifying profitable used car arbitrage opportunities between Japan and Africa

# Build configuration
build:
  commands:
    - npm install
    - cd backend && npm install
    - cd ../frontend && npm install && npm run build

# Runtime configuration
run:
  command: npm start
  
# Environment variables
env:
  NODE_ENV: production
  USE_MOCK_DATA: false
  PORT: 8080

# Health check
health_check:
  path: /health
  port: 8080
  interval: 30s
  timeout: 10s
  retries: 3

# Static files (frontend)
static:
  - source: frontend/build
    destination: /public

# Services
services:
  - name: mongodb
    type: mongodb
    version: "6.0"
    storage: 1GB

# Scaling
scaling:
  min_instances: 1
  max_instances: 3
  cpu_threshold: 80
  memory_threshold: 80